[CacheGeometry geo-cpu-l1]
Sets = 128
Assoc = 4
BlockSize = 256
Latency = 1

[CacheGeometry geo-cpu-l2]
Sets = 1024
Assoc = 32
BlockSize = 256
Latency = 10

; 2 l1 cpu caches

[Module mod-cpu0-l1]
Type = Cache
Geometry = geo-cpu-l1
LowNetwork = net-cpu0-l1-l2
LowModules = mod-cpu0-l2

[Module mod-cpu1-l1]
Type = Cache
Geometry = geo-cpu-l1
LowNetwork = net-cpu1-l1-l2
LowModules = mod-cpu1-l2

[Module mod-cpu0-l2]
Type = Cache
Geometry = geo-cpu-l2
HighNetwork = net-cpu0-l1-l2
LowNetwork = net-cpu-l2-mm
LowModules = mod-cpu-mm

[Module mod-cpu1-l2]
Type = Cache
Geometry = geo-cpu-l2
HighNetwork = net-cpu1-l1-l2
LowNetwork = net-cpu-l2-mm
LowModules = mod-cpu-mm

[Module mod-cpu-mm]
Type = MainMemory
BlockSize = 256
Latency = 100
HighNetwork = net-cpu-l2-mm

[Entry core-0]
Type = CPU
Core = 0
Thread = 0
DataModule = mod-cpu0-l1
InstModule = mod-cpu0-l1

[Entry core-1]
Type = CPU
Core = 1
Thread = 0
DataModule = mod-cpu1-l1
InstModule = mod-cpu1-l1

; Networks

[ Network net-cpu0-l1-l2 ]
DefaultBandWidth = 128
DefaultInputBufferSize = 512
DefaultOutputBufferSize = 512

[ Network net-cpu1-l1-l2 ]
DefaultBandWidth = 128
DefaultInputBufferSize = 512
DefaultOutputBufferSize = 512

[ Network net-cpu0-l2-mm ]
DefaultBandWidth = 128
DefaultInputBufferSize = 512
DefaultOutputBufferSize = 512

[ Network net-cpu1-l2-mm ]
DefaultBandWidth = 128
DefaultInputBufferSize = 512
DefaultOutputBufferSize = 512

[ Network net-cpu-l2-mm ]
DefaultBandWidth = 128
DefaultInputBufferSize = 512
DefaultOutputBufferSize = 512
